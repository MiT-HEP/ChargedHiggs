
///
float HmumuAnalysis::getZPtReweight(float Zpt)
{
    if (rzpt_.get() == NULL) {
        Double_t xAxis1[97] = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 52, 54, 56, 58, 60, 62, 64, 66, 68, 70, 72, 74, 76, 78, 80, 82, 84, 86, 88, 90, 92, 94, 96, 98, 100, 105, 110, 115, 120, 125, 130, 135, 140, 145, 150, 160, 170, 180, 190, 200, 250, 300, 400, 500, 600, 8000}; 
       rzpt_.reset( new TH1D("ratio__1","Pt On Hmm (110-150)",96, xAxis1));
       rzpt_->SetBinContent(1,1.25442);
       rzpt_->SetBinContent(2,1.12704);
       rzpt_->SetBinContent(3,1.12533);
       rzpt_->SetBinContent(4,1.05604);
       rzpt_->SetBinContent(5,1.10264);
       rzpt_->SetBinContent(6,1.08767);
       rzpt_->SetBinContent(7,1.10362);
       rzpt_->SetBinContent(8,1.08591);
       rzpt_->SetBinContent(9,1.06601);
       rzpt_->SetBinContent(10,1.0916);
       rzpt_->SetBinContent(11,1.06448);
       rzpt_->SetBinContent(12,1.01392);
       rzpt_->SetBinContent(13,1.04377);
       rzpt_->SetBinContent(14,1.02068);
       rzpt_->SetBinContent(15,0.994305);
       rzpt_->SetBinContent(16,1.00707);
       rzpt_->SetBinContent(17,0.976421);
       rzpt_->SetBinContent(18,0.975673);
       rzpt_->SetBinContent(19,0.979493);
       rzpt_->SetBinContent(20,0.986701);
       rzpt_->SetBinContent(21,0.921996);
       rzpt_->SetBinContent(22,0.958257);
       rzpt_->SetBinContent(23,0.947919);
       rzpt_->SetBinContent(24,0.915694);
       rzpt_->SetBinContent(25,0.963098);
       rzpt_->SetBinContent(26,0.902018);
       rzpt_->SetBinContent(27,0.921341);
       rzpt_->SetBinContent(28,0.947538);
       rzpt_->SetBinContent(29,0.919088);
       rzpt_->SetBinContent(30,0.89809);
       rzpt_->SetBinContent(31,0.93795);
       rzpt_->SetBinContent(32,0.951556);
       rzpt_->SetBinContent(33,0.920607);
       rzpt_->SetBinContent(34,0.931718);
       rzpt_->SetBinContent(35,0.972628);
       rzpt_->SetBinContent(36,0.991912);
       rzpt_->SetBinContent(37,0.982581);
       rzpt_->SetBinContent(38,0.986466);
       rzpt_->SetBinContent(39,0.948026);
       rzpt_->SetBinContent(40,0.881102);
       rzpt_->SetBinContent(41,0.975588);
       rzpt_->SetBinContent(42,0.967278);
       rzpt_->SetBinContent(43,0.96418);
       rzpt_->SetBinContent(44,0.8935);
       rzpt_->SetBinContent(45,0.984849);
       rzpt_->SetBinContent(46,0.934862);
       rzpt_->SetBinContent(47,1.08122);
       rzpt_->SetBinContent(48,0.90832);
       rzpt_->SetBinContent(49,0.996306);
       rzpt_->SetBinContent(50,1.04286);
       rzpt_->SetBinContent(51,1.01652);
       rzpt_->SetBinContent(52,0.99927);
       rzpt_->SetBinContent(53,0.987264);
       rzpt_->SetBinContent(54,1.00254);
       rzpt_->SetBinContent(55,0.98932);
       rzpt_->SetBinContent(56,1.04193);
       rzpt_->SetBinContent(57,1.02381);
       rzpt_->SetBinContent(58,1.01032);
       rzpt_->SetBinContent(59,1.03059);
       rzpt_->SetBinContent(60,1.01214);
       rzpt_->SetBinContent(61,1.07218);
       rzpt_->SetBinContent(62,0.999929);
       rzpt_->SetBinContent(63,1.06193);
       rzpt_->SetBinContent(64,0.949346);
       rzpt_->SetBinContent(65,0.920078);
       rzpt_->SetBinContent(66,0.973534);
       rzpt_->SetBinContent(67,1.00212);
       rzpt_->SetBinContent(68,0.953533);
       rzpt_->SetBinContent(69,1.01944);
       rzpt_->SetBinContent(70,1.03041);
       rzpt_->SetBinContent(71,0.999917);
       rzpt_->SetBinContent(72,1.07828);
       rzpt_->SetBinContent(73,1.06935);
       rzpt_->SetBinContent(74,0.919939);
       rzpt_->SetBinContent(75,1.06806);
       rzpt_->SetBinContent(76,1.05322);
       rzpt_->SetBinContent(77,0.98814);
       rzpt_->SetBinContent(78,0.982285);
       rzpt_->SetBinContent(79,1.03646);
       rzpt_->SetBinContent(80,1.25187);
       rzpt_->SetBinContent(81,1.02401);
       rzpt_->SetBinContent(82,1.0413);
       rzpt_->SetBinContent(83,1.06257);
       rzpt_->SetBinContent(84,0.982519);
       rzpt_->SetBinContent(85,1.09106);
       rzpt_->SetBinContent(86,1.01377);
       rzpt_->SetBinContent(87,1.03474);
       rzpt_->SetBinContent(88,0.990248);
       rzpt_->SetBinContent(89,1.00668);
       rzpt_->SetBinContent(90,0.975461);
       rzpt_->SetBinContent(91,1.03657);
       rzpt_->SetBinContent(92,0.992107);
       rzpt_->SetBinContent(93,0.861815);
       rzpt_->SetBinContent(94,0.930741);
       rzpt_->SetBinContent(95,0.857949);
       rzpt_->SetBinContent(96,1.0433);
       rzpt_->SetBinContent(97,2.25209);
        //rzpt2_.reset( new TF1("myf","1.36959e+00-1.39690e-03*x +x*x*7.11835e-07") );
    }
    if (Zpt < 1000) return rzpt_->GetBinContent(rzpt_->FindBin(Zpt));
    else return 1.0;
    //if (Zpt < 350) return rzpt_->GetBinContent(rzpt_->FindBin(Zpt));
    //else return rzpt2_->Eval (std::min(Zpt,float(1000.))) ;
}

float HmumuAnalysis::getZPtReweight2018(float Zpt)
{
    if (rzpt2018_.get() == NULL) {
        rzpt2018_.reset(new TH1D("ratio__2","Pt OnZ",300,0,300));
        rzpt2018_ -> SetBinContent( 1, 0.746826);
        rzpt2018_->SetBinContent(1,0.746826);
        rzpt2018_->SetBinContent(2,0.750458);
        rzpt2018_->SetBinContent(3,0.771826);
        rzpt2018_->SetBinContent(4,0.811064);
        rzpt2018_->SetBinContent(5,0.861919);
        rzpt2018_->SetBinContent(6,0.927244);
        rzpt2018_->SetBinContent(7,0.985209);
        rzpt2018_->SetBinContent(8,1.02976);
        rzpt2018_->SetBinContent(9,1.06321);
        rzpt2018_->SetBinContent(10,1.08549);
        rzpt2018_->SetBinContent(11,1.10186);
        rzpt2018_->SetBinContent(12,1.1151);
        rzpt2018_->SetBinContent(13,1.11678);
        rzpt2018_->SetBinContent(14,1.1223);
        rzpt2018_->SetBinContent(15,1.12207);
        rzpt2018_->SetBinContent(16,1.12885);
        rzpt2018_->SetBinContent(17,1.12815);
        rzpt2018_->SetBinContent(18,1.12627);
        rzpt2018_->SetBinContent(19,1.12015);
        rzpt2018_->SetBinContent(20,1.11592);
        rzpt2018_->SetBinContent(21,1.11213);
        rzpt2018_->SetBinContent(22,1.10469);
        rzpt2018_->SetBinContent(23,1.10215);
        rzpt2018_->SetBinContent(24,1.09532);
        rzpt2018_->SetBinContent(25,1.09438);
        rzpt2018_->SetBinContent(26,1.08549);
        rzpt2018_->SetBinContent(27,1.07607);
        rzpt2018_->SetBinContent(28,1.07076);
        rzpt2018_->SetBinContent(29,1.05618);
        rzpt2018_->SetBinContent(30,1.05001);
        rzpt2018_->SetBinContent(31,1.04725);
        rzpt2018_->SetBinContent(32,1.03594);
        rzpt2018_->SetBinContent(33,1.02634);
        rzpt2018_->SetBinContent(34,1.01886);
        rzpt2018_->SetBinContent(35,1.01248);
        rzpt2018_->SetBinContent(36,1.01002);
        rzpt2018_->SetBinContent(37,1.00497);
        rzpt2018_->SetBinContent(38,0.999816);
        rzpt2018_->SetBinContent(39,1.00271);
        rzpt2018_->SetBinContent(40,1.00212);
        rzpt2018_->SetBinContent(41,1.00467);
        rzpt2018_->SetBinContent(42,0.997781);
        rzpt2018_->SetBinContent(43,0.994325);
        rzpt2018_->SetBinContent(44,0.995709);
        rzpt2018_->SetBinContent(45,0.998773);
        rzpt2018_->SetBinContent(46,0.999177);
        rzpt2018_->SetBinContent(47,0.994192);
        rzpt2018_->SetBinContent(48,1.00223);
        rzpt2018_->SetBinContent(49,0.992591);
        rzpt2018_->SetBinContent(50,1.00464);
        rzpt2018_->SetBinContent(51,0.994325);
        rzpt2018_->SetBinContent(52,1.00838);
        rzpt2018_->SetBinContent(53,0.994946);
        rzpt2018_->SetBinContent(54,0.998369);
        rzpt2018_->SetBinContent(55,1.00512);
        rzpt2018_->SetBinContent(56,1.00069);
        rzpt2018_->SetBinContent(57,1.01082);
        rzpt2018_->SetBinContent(58,0.998581);
        rzpt2018_->SetBinContent(59,1.00807);
        rzpt2018_->SetBinContent(60,1.00178);
        rzpt2018_->SetBinContent(61,0.99279);
        rzpt2018_->SetBinContent(62,1.00493);
        rzpt2018_->SetBinContent(63,1.01452);
        rzpt2018_->SetBinContent(64,1.00843);
        rzpt2018_->SetBinContent(65,0.995933);
        rzpt2018_->SetBinContent(66,1.0096);
        rzpt2018_->SetBinContent(67,1.01145);
        rzpt2018_->SetBinContent(68,1.01212);
        rzpt2018_->SetBinContent(69,1.02853);
        rzpt2018_->SetBinContent(70,1.01832);
        rzpt2018_->SetBinContent(71,0.993048);
        rzpt2018_->SetBinContent(72,1.00585);
        rzpt2018_->SetBinContent(73,1.01655);
        rzpt2018_->SetBinContent(74,1.00537);
        rzpt2018_->SetBinContent(75,0.994745);
        rzpt2018_->SetBinContent(76,1.04786);
        rzpt2018_->SetBinContent(77,1.02825);
        rzpt2018_->SetBinContent(78,1.0333);
        rzpt2018_->SetBinContent(79,1.01729);
        rzpt2018_->SetBinContent(80,0.993613);
        rzpt2018_->SetBinContent(81,1.02654);
        rzpt2018_->SetBinContent(82,1.0181);
        rzpt2018_->SetBinContent(83,1.02214);
        rzpt2018_->SetBinContent(84,0.998037);
        rzpt2018_->SetBinContent(85,1.02843);
        rzpt2018_->SetBinContent(86,0.972537);
        rzpt2018_->SetBinContent(87,1.01237);
        rzpt2018_->SetBinContent(88,1.02521);
        rzpt2018_->SetBinContent(89,1.00552);
        rzpt2018_->SetBinContent(90,1.02686);
        rzpt2018_->SetBinContent(91,1.04679);
        rzpt2018_->SetBinContent(92,1.06118);
        rzpt2018_->SetBinContent(93,1.01309);
        rzpt2018_->SetBinContent(94,0.979495);
        rzpt2018_->SetBinContent(95,0.987706);
        rzpt2018_->SetBinContent(96,0.992465);
        rzpt2018_->SetBinContent(97,1.01399);
        rzpt2018_->SetBinContent(98,0.976707);
        rzpt2018_->SetBinContent(99,1.0304);
        rzpt2018_->SetBinContent(100,1.01385);
        rzpt2018_->SetBinContent(101,1.01705);
        rzpt2018_->SetBinContent(102,1.02192);
        rzpt2018_->SetBinContent(103,1.00958);
        rzpt2018_->SetBinContent(104,1.03437);
        rzpt2018_->SetBinContent(105,1.0013);
        rzpt2018_->SetBinContent(106,1.01025);
        rzpt2018_->SetBinContent(107,1.05748);
        rzpt2018_->SetBinContent(108,1.00276);
        rzpt2018_->SetBinContent(109,1.00164);
        rzpt2018_->SetBinContent(110,1.0311);
        rzpt2018_->SetBinContent(111,1.01981);
        rzpt2018_->SetBinContent(112,1.01834);
        rzpt2018_->SetBinContent(113,1.07922);
        rzpt2018_->SetBinContent(114,1.00141);
        rzpt2018_->SetBinContent(115,1.03373);
        rzpt2018_->SetBinContent(116,0.9823);
        rzpt2018_->SetBinContent(117,0.977883);
        rzpt2018_->SetBinContent(118,0.990057);
        rzpt2018_->SetBinContent(119,0.985906);
        rzpt2018_->SetBinContent(120,1.0095);
        rzpt2018_->SetBinContent(121,0.998806);
        rzpt2018_->SetBinContent(122,0.982877);
        rzpt2018_->SetBinContent(123,1.01089);
        rzpt2018_->SetBinContent(124,1.00414);
        rzpt2018_->SetBinContent(125,1.00327);
        rzpt2018_->SetBinContent(126,0.99725);
        rzpt2018_->SetBinContent(127,1.02381);
        rzpt2018_->SetBinContent(128,1.04217);
        rzpt2018_->SetBinContent(129,0.955761);
        rzpt2018_->SetBinContent(130,0.99561);
        rzpt2018_->SetBinContent(131,0.970093);
        rzpt2018_->SetBinContent(132,0.968496);
        rzpt2018_->SetBinContent(133,0.997553);
        rzpt2018_->SetBinContent(134,1.00133);
        rzpt2018_->SetBinContent(135,0.983614);
        rzpt2018_->SetBinContent(136,1.0021);
        rzpt2018_->SetBinContent(137,1.00095);
        rzpt2018_->SetBinContent(138,1.00908);
        rzpt2018_->SetBinContent(139,1.01504);
        rzpt2018_->SetBinContent(140,0.962335);
        rzpt2018_->SetBinContent(141,0.978091);
        rzpt2018_->SetBinContent(142,1.00653);
        rzpt2018_->SetBinContent(143,1.03097);
        rzpt2018_->SetBinContent(144,1.00984);
        rzpt2018_->SetBinContent(145,0.999682);
        rzpt2018_->SetBinContent(146,1.04507);
        rzpt2018_->SetBinContent(147,1.0068);
        rzpt2018_->SetBinContent(148,0.988401);
        rzpt2018_->SetBinContent(149,0.992353);
        rzpt2018_->SetBinContent(150,1.0601);
        rzpt2018_->SetBinContent(151,1.02758);
        rzpt2018_->SetBinContent(152,0.992421);
        rzpt2018_->SetBinContent(153,0.992427);
        rzpt2018_->SetBinContent(154,1.05718);
        rzpt2018_->SetBinContent(155,1.05097);
        rzpt2018_->SetBinContent(156,0.965709);
        rzpt2018_->SetBinContent(157,0.999461);
        rzpt2018_->SetBinContent(158,1.01746);
        rzpt2018_->SetBinContent(159,0.991995);
        rzpt2018_->SetBinContent(160,1.05531);
        rzpt2018_->SetBinContent(161,1.01105);
        rzpt2018_->SetBinContent(162,0.92388);
        rzpt2018_->SetBinContent(163,0.990271);
        rzpt2018_->SetBinContent(164,1.0471);
        rzpt2018_->SetBinContent(165,1.0192);
        rzpt2018_->SetBinContent(166,1.00876);
        rzpt2018_->SetBinContent(167,0.959149);
        rzpt2018_->SetBinContent(168,0.96522);
        rzpt2018_->SetBinContent(169,1.01249);
        rzpt2018_->SetBinContent(170,1.00751);
        rzpt2018_->SetBinContent(171,0.980067);
        rzpt2018_->SetBinContent(172,0.970856);
        rzpt2018_->SetBinContent(173,0.974554);
        rzpt2018_->SetBinContent(174,0.964197);
        rzpt2018_->SetBinContent(175,1.08775);
        rzpt2018_->SetBinContent(176,0.981604);
        rzpt2018_->SetBinContent(177,0.90629);
        rzpt2018_->SetBinContent(178,1.00093);
        rzpt2018_->SetBinContent(179,1.05162);
        rzpt2018_->SetBinContent(180,1.06106);
        rzpt2018_->SetBinContent(181,0.921963);
        rzpt2018_->SetBinContent(182,0.897514);
        rzpt2018_->SetBinContent(183,0.967764);
        rzpt2018_->SetBinContent(184,0.978143);
        rzpt2018_->SetBinContent(185,0.907634);
        rzpt2018_->SetBinContent(186,1.07176);
        rzpt2018_->SetBinContent(187,1.0618);
        rzpt2018_->SetBinContent(188,0.952023);
        rzpt2018_->SetBinContent(189,0.965767);
        rzpt2018_->SetBinContent(190,0.931347);
        rzpt2018_->SetBinContent(191,1.00511);
        rzpt2018_->SetBinContent(192,1.04638);
        rzpt2018_->SetBinContent(193,1.09982);
        rzpt2018_->SetBinContent(194,1.00747);
        rzpt2018_->SetBinContent(195,0.959209);
        rzpt2018_->SetBinContent(196,0.8635);
        rzpt2018_->SetBinContent(197,1.01691);
        rzpt2018_->SetBinContent(198,1.00638);
        rzpt2018_->SetBinContent(199,0.969409);
        rzpt2018_->SetBinContent(200,0.935353);
        rzpt2018_->SetBinContent(201,1.03921);
        rzpt2018_->SetBinContent(202,1.03323);
        rzpt2018_->SetBinContent(203,0.956236);
        rzpt2018_->SetBinContent(204,1.07048);
        rzpt2018_->SetBinContent(205,1.04781);
        rzpt2018_->SetBinContent(206,1.07608);
        rzpt2018_->SetBinContent(207,0.872438);
        rzpt2018_->SetBinContent(208,0.898991);
        rzpt2018_->SetBinContent(209,0.961394);
        rzpt2018_->SetBinContent(210,0.966576);
        rzpt2018_->SetBinContent(211,0.912668);
        rzpt2018_->SetBinContent(212,1.09619);
        rzpt2018_->SetBinContent(213,0.926212);
        rzpt2018_->SetBinContent(214,0.877137);
        rzpt2018_->SetBinContent(215,1.00161);
        rzpt2018_->SetBinContent(216,1.05718);
        rzpt2018_->SetBinContent(217,1.01988);
        rzpt2018_->SetBinContent(218,0.934316);
        rzpt2018_->SetBinContent(219,0.819487);
        rzpt2018_->SetBinContent(220,0.945443);
        rzpt2018_->SetBinContent(221,1.04086);
        rzpt2018_->SetBinContent(222,1.05528);
        rzpt2018_->SetBinContent(223,1.0223);
        rzpt2018_->SetBinContent(224,0.942788);
        rzpt2018_->SetBinContent(225,0.976675);
        rzpt2018_->SetBinContent(226,0.99781);
        rzpt2018_->SetBinContent(227,1.01057);
        rzpt2018_->SetBinContent(228,1.28434);
        rzpt2018_->SetBinContent(229,1.15593);
        rzpt2018_->SetBinContent(230,1.03278);
        rzpt2018_->SetBinContent(231,1.01722);
        rzpt2018_->SetBinContent(232,0.953627);
        rzpt2018_->SetBinContent(233,0.922944);
        rzpt2018_->SetBinContent(234,0.967383);
        rzpt2018_->SetBinContent(235,1.2571);
        rzpt2018_->SetBinContent(236,0.973323);
        rzpt2018_->SetBinContent(237,1.00298);
        rzpt2018_->SetBinContent(238,0.853301);
        rzpt2018_->SetBinContent(239,0.810704);
        rzpt2018_->SetBinContent(240,1.0205);
        rzpt2018_->SetBinContent(241,1.08848);
        rzpt2018_->SetBinContent(242,1.03398);
        rzpt2018_->SetBinContent(243,0.876728);
        rzpt2018_->SetBinContent(244,0.885958);
        rzpt2018_->SetBinContent(245,0.888353);
        rzpt2018_->SetBinContent(246,0.978082);
        rzpt2018_->SetBinContent(247,1.09357);
        rzpt2018_->SetBinContent(248,1.07987);
        rzpt2018_->SetBinContent(249,1.10372);
        rzpt2018_->SetBinContent(250,1.01197);
        rzpt2018_->SetBinContent(251,1.14905);
        rzpt2018_->SetBinContent(252,0.978652);
        rzpt2018_->SetBinContent(253,0.914642);
        rzpt2018_->SetBinContent(254,1.01084);
        rzpt2018_->SetBinContent(255,1.02268);
        rzpt2018_->SetBinContent(256,0.892939);
        rzpt2018_->SetBinContent(257,1.02072);
        rzpt2018_->SetBinContent(258,0.967351);
        rzpt2018_->SetBinContent(259,0.863597);
        rzpt2018_->SetBinContent(260,1.18517);
        rzpt2018_->SetBinContent(261,1.00053);
        rzpt2018_->SetBinContent(262,0.822497);
        rzpt2018_->SetBinContent(263,1.01023);
        rzpt2018_->SetBinContent(264,0.943251);
        rzpt2018_->SetBinContent(265,0.806322);
        rzpt2018_->SetBinContent(266,0.791873);
        rzpt2018_->SetBinContent(267,1.27814);
        rzpt2018_->SetBinContent(268,1.06469);
        rzpt2018_->SetBinContent(269,0.897744);
        rzpt2018_->SetBinContent(270,1.05678);
        rzpt2018_->SetBinContent(271,0.824795);
        rzpt2018_->SetBinContent(272,1.14121);
        rzpt2018_->SetBinContent(273,0.85342);
        rzpt2018_->SetBinContent(274,0.895683);
        rzpt2018_->SetBinContent(275,1.01389);
        rzpt2018_->SetBinContent(276,0.853646);
        rzpt2018_->SetBinContent(277,0.946325);
        rzpt2018_->SetBinContent(278,1.07904);
        rzpt2018_->SetBinContent(279,0.934784);
        rzpt2018_->SetBinContent(280,0.929647);
        rzpt2018_->SetBinContent(281,0.858641);
        rzpt2018_->SetBinContent(282,0.88859);
        rzpt2018_->SetBinContent(283,1.37738);
        rzpt2018_->SetBinContent(284,0.949868);
        rzpt2018_->SetBinContent(285,0.789982);
        rzpt2018_->SetBinContent(286,0.998937);
        rzpt2018_->SetBinContent(287,1.15139);
        rzpt2018_->SetBinContent(288,1.15225);
        rzpt2018_->SetBinContent(289,0.919392);
        rzpt2018_->SetBinContent(290,0.923635);
        rzpt2018_->SetBinContent(291,0.96548);
        }
    if (Zpt < 300) return rzpt2018_->GetBinContent(rzpt2018_->FindBin(Zpt));
    else return 1.0;
}

